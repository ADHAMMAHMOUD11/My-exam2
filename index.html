<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ุงูุชุญุงู ุชุงูุชุฉ ุซุงููู</title>
<style>
body { font-family:'Tahoma', sans-serif; background:#f7f7f7; padding:20px; direction:rtl; }
h1 { text-align:center; color:#d11a2a; }
.timer { text-align:center; font-size:20px; margin-bottom:20px; color:#007bff; }
.question { background:#fff; padding:15px; border-radius:8px; margin:10px 0; box-shadow:0 2px 5px rgba(0,0,0,0.1);}
button { background:#007bff; color:white; border:none; padding:10px 15px; border-radius:5px; cursor:pointer; display:block; margin:20px auto; font-size:16px;}
button:hover { background:#0056b3; }
footer { text-align:center; margin-top:30px; font-size:14px; color:#555; }
.message { text-align:center; font-size:18px; margin-top:20px; font-weight:bold; color:#28a745; }
</style>
</head>
<body>

<h1>ุงูุชุญุงู ุชุงูุชุฉ ุซุงููู - ูููุฐุฌ</h1>
<div class="timer">ุงูููุช ุงููุชุจูู: <span id="time">04:00</span></div>

<form id="quizForm">

  <div class="question">
    <p>1. ูุง ูุชูุฌุฉ 12 รท 3 ุ</p>
    <input type="radio" name="q1" value="a"> 5<br>
    <input type="radio" name="q1" value="b"> 3<br>
    <input type="radio" name="q1" value="c"> 4<br>
  </div>

  <div class="question">
    <p>2. ูุง ุนุงุตูุฉ ูุฑูุณุงุ</p>
    <input type="radio" name="q2" value="a"> ุจุฑููู<br>
    <input type="radio" name="q2" value="b"> ุจุงุฑูุณ<br>
    <input type="radio" name="q2" value="c"> ูุฏุฑูุฏ<br>
  </div>

  <div class="question">
    <p>3. ูุง ูู ุงูุบุงุฒ ุงูุฐู ูุชููุณู ุงูุฅูุณุงูุ</p>
    <input type="radio" name="q3" value="a"> ุงูุฃูุณุฌูู<br>
    <input type="radio" name="q3" value="b"> ุงูููุชุฑูุฌูู<br>
    <input type="radio" name="q3" value="c"> ุซุงูู ุฃูุณูุฏ ุงููุฑุจูู<br>
  </div>

  <div class="question">
    <p>4. ูู ุฃู ุนุงู ูุงูุช ุซูุฑุฉ ูููููุ</p>
    <input type="radio" name="q4" value="a"> 1952<br>
    <input type="radio" name="q4" value="b"> 1948<br>
    <input type="radio" name="q4" value="c"> 1967<br>
  </div>

  <div class="question">
    <p>5. ูุง ูู ุฃูุจุฑ ูููุจ ูู ุงููุฌููุนุฉ ุงูุดูุณูุฉุ</p>
    <input type="radio" name="q5" value="a"> ุงูุฃุฑุถ<br>
    <input type="radio" name="q5" value="b"> ุงููุดุชุฑู<br>
    <input type="radio" name="q5" value="c"> ุฒุญู<br>
  </div>

  <div class="question">
    <p>6. ูู ุนุฏุฏ ูุงุฑุงุช ุงูุนุงููุ</p>
    <input type="radio" name="q6" value="a"> 5<br>
    <input type="radio" name="q6" value="b"> 6<br>
    <input type="radio" name="q6" value="c"> 7<br>
  </div>

  <div class="question">
    <p>7. ูู ูู ูุคูู ุฑูุงูุฉ "ุงูุญุฑุจ ูุงูุณูุงู"ุ</p>
    <input type="radio" name="q7" value="a"> ุฏูุณุชูููุณูู<br>
    <input type="radio" name="q7" value="b"> ููู ุชููุณุชูู<br>
    <input type="radio" name="q7" value="c"> ุดูุณุจูุฑ<br>
  </div>

  <div class="question">
    <p>8. ูุง ุงูุนูุตุฑ ุงูููููุงุฆู ุงูุฐู ูุฑูุฒ ูู ุจู Hุ</p>
    <input type="radio" name="q8" value="a"> ูููููู<br>
    <input type="radio" name="q8" value="b"> ููุฏุฑูุฌูู<br>
    <input type="radio" name="q8" value="c"> ุฃูุณุฌูู<br>
  </div>

  <div class="question">
    <p>9. ูู ุนุฏุฏ ุฃููุงู ููุณ ูุฒุญุ</p>
    <input type="radio" name="q9" value="a"> 5<br>
    <input type="radio" name="q9" value="b"> 6<br>
    <input type="radio" name="q9" value="c"> 7<br>
  </div>

  <div class="question">
    <p>10. ูุง ูู ุฃุณุฑุน ุงูุญููุงูุงุช ุงูุจุฑูุฉุ</p>
    <input type="radio" name="q10" value="a"> ุงูุฃุณุฏ<br>
    <input type="radio" name="q10" value="b"> ุงูููุฏ<br>
    <input type="radio" name="q10" value="c"> ุงูููุฑ<br>
  </div>

  <button type="button" onclick="submitQuiz()">ุฅุฑุณุงู ุงูุฅุฌุงุจุงุช</button>
</form>

<div class="message" id="thankMessage"></div>

<footer>
&copy; ุฌููุน ุงูุญููู ูุญููุธุฉ ูู ุฃุฏูู 2025
</footer>

<script>
// ููุน ุงูุฎุฑูุฌ ุฃู ุฅุนุงุฏุฉ ุงูุชุญููู ุจุฏูู ุชุณููู
window.onbeforeunload = function() {
  submitQuiz();
  return "ูู ุฎุฑุฌุช ุงูุขูุ ุงููุฑูุฉ ุณูุชู ุชุณููููุง ุชููุงุฆููุง!";
};

// ุชุงููุฑ 3 ุฏูุงุฆู
let timeLeft = 180;
let startTime = Date.now();
const timerDisplay = document.getElementById("time");

const countdown = setInterval(() => {
    let elapsed = Math.floor((Date.now() - startTime)/1000);
    let remaining = timeLeft - elapsed;
    if(remaining < 0) remaining = 0;
    let minutes = Math.floor(remaining/60);
    let seconds = remaining % 60;
    timerDisplay.textContent = `${minutes.toString().padStart(2,'0')}:${seconds.toString().padStart(2,'0')}`;
    if(remaining <= 0){
        clearInterval(countdown);
        submitQuiz();
    }
},1000);

// ุงูุฅุฌุงุจุงุช ุงูุตุญูุญุฉ
const answers = {
  q1:"c", q2:"b", q3:"a", q4:"a", q5:"b",
  q6:"c", q7:"b", q8:"b", q9:"c", q10:"b"
};

let submitted = false; // ูุชุฌูุจ ุฅุฑุณุงู ุงููุชูุฌุฉ ุฃูุซุฑ ูู ูุฑุฉ

function submitQuiz(){
    if(submitted) return;
    submitted = true;
    clearInterval(countdown);
    let correct = 0;
    let total = Object.keys(answers).length;

    for(let key in answers){
        const selected = document.querySelector(`input[name="${key}"]:checked`);
        if(selected && selected.value === answers[key]) correct++;
    }

    let percentage = ((correct/total)*100).toFixed(2);
    let elapsedSec = Math.floor((Date.now() - startTime)/1000);
    let usedMinutes = Math.floor(elapsedSec/60);
    let usedSeconds = elapsedSec % 60;

    // ูุฑุณู ุงูุชูุฑูุฑ ูุจุงุดุฑุฉ ุนูู ูุงุชุณุงุจ
    sendWhatsApp(correct, total, percentage, usedMinutes, usedSeconds);

    // ูุฎูู ุงูููุฑู
    document.getElementById("quizForm").style.display = "none";

    // ุฑุณุงูุฉ ุดูุฑ
    document.getElementById("thankMessage").innerHTML = "ุดูุฑุงู ูุฅููุงู ุงูุงูุชุญุงูุ ุณูุชู ูุฑุงุฌุนุฉ ูุชูุฌุชู ูุฑูุจุงู ๐";
}

// ุฅุฑุณุงู ุงูุชูุฑูุฑ ุนูู ูุงุชุณุงุจ
function sendWhatsApp(correct, total, percentage, minutes, seconds){
    let phone = "201101158596"; // ุฑููู ุงูุฏููู ุจุฏูู +
    let message = `๐ ุงูุชุญุงู ุชุงูุชุฉ ุซุงููู - ุงูุชูุฑูุฑ:\nโ ุนุฏุฏ ุงูุฅุฌุงุจุงุช ุงูุตุญูุญุฉ: ${correct} ูู ${total}\n๐ ุงููุณุจุฉ ุงููุฆููุฉ: ${percentage}%\nโฑ๏ธ ุงูููุช ุงููุณุชุบุฑู: ${minutes} ุฏูููุฉ ู ${seconds} ุซุงููุฉ\n\nุดูุฑุงู ููุทุงูุจ ุนูู ุงููุดุงุฑูุฉ.`;
    let url = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;
    window.location.href = url;
}
</script>

</body>
  </html>
